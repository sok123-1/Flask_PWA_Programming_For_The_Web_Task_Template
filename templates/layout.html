<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Habitly — Minimal</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}" />
  <link rel="icon" href="{{ url_for('static', filename='icons/favicon.ico') }}" />
</head>
<body>
  <header class="site-header">
    <div class="container header-inner">
      <a class="brand" href="/">
        <!-- inline green circle logo -->
        <svg class="brand-mark" viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg" aria-hidden>
          <defs><linearGradient id="g" x1="0" x2="1"><stop offset="0" stop-color="#34d399"/><stop offset="1" stop-color="#059669"/></linearGradient></defs>
          <circle cx="24" cy="24" r="22" fill="#ffffff" stroke="url(#g)" stroke-width="3.5" />
          <text x="50%" y="55%" text-anchor="middle" font-family="Inter, system-ui, sans-serif" font-weight="700" font-size="20" fill="#059669">H</text>
        </svg>
        <span class="brand-title">Habitly</span>
      </a>

      <nav class="nav">
        <a class="nav-link {% if request.path == '/' %}active{% endif %}" href="/">Home</a>
        <a class="nav-link {% if request.path.startswith('/habits') %}active{% endif %}" href="/habits">Habits</a>
        <a class="nav-link {% if request.path.startswith('/streaks') %}active{% endif %}" href="/streaks">Streaks</a>
      </nav>
    </div>
  </header>

  <main class="container main-content" role="main">
    <div>
      {% block content %}{% endblock %}
    </div>

    <!-- SITE WIDE STATS SIDEBAR -->
    <aside aria-labelledby="stats-heading" style="min-width:260px;">
      <div class="card" style="position:sticky;top:88px;">
        <h3 id="stats-heading" class="kicker" style="margin:0 0 10px 0">Habits Stats</h3>

        <div id="site-stats" style="display:grid;gap:10px;">
          <div style="display:flex;justify-content:space-between;align-items:center">
            <div style="font-size:13px;color:var(--subtle)">Total habits</div>
            <div id="stat-total" style="font-weight:700;color:var(--accent-600)">—</div>
          </div>

          <div style="display:flex;justify-content:space-between;align-items:center">
            <div style="font-size:13px;color:var(--subtle)">Completed today</div>
            <div id="stat-completed" style="font-weight:700;color:var(--accent-600)">—</div>
          </div>

          <div style="display:flex;justify-content:space-between;align-items:center">
            <div style="font-size:13px;color:var(--subtle)">Average streak</div>
            <div id="stat-average" style="font-weight:700;color:var(--accent-600)">—</div>
          </div>

          <div style="display:flex;justify-content:space-between;align-items:center">
            <div style="font-size:13px;color:var(--subtle)">Longest streak</div>
            <div id="stat-longest" style="font-weight:700;color:var(--accent-600)">—</div>
          </div>

          <div style="display:flex;justify-content:space-between;align-items:center">
            <div style="font-size:13px;color:var(--subtle)">Active streaks</div>
            <div id="stat-active" style="font-weight:700;color:var(--accent-600)">—</div>
          </div>

          <div style="margin-top:12px">
            <button id="refresh-stats" class="btn ghost" style="width:100%">Refresh</button>
          </div>
        </div>
      </div>
    </aside>
  </main>

  <footer class="site-footer">
    <div class="container">
      <p>© {{ (current_year if (current_year is defined) else '') }} Habitly — Minimal • built with focus</p>
    </div>
  </footer>

  <script src="{{ url_for('static', filename='js/site-stats.js') }}"></script>
</body>
</html>




